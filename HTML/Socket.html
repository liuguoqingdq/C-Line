<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Socket ç½‘ç»œç¼–ç¨‹çŸ¥è¯†å›¾è°±</title>
    <style>
        :root {
            --blue-bg: #e3f2fd;
            --blue-border: #2196f3;
            --blue-text: #0d47a1;
            
            --green-bg: #e8f5e9;
            --green-border: #4caf50;
            --green-text: #1b5e20;
            
            --orange-bg: #fff3e0;
            --orange-border: #ff9800;
            --orange-text: #e65100;
            
            --purple-bg: #f3e5f5;
            --purple-border: #9c27b0;
            --purple-text: #4a148c;

            --line-color: #999;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
            padding: 40px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 1400px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        /* æ ‡é¢˜æ ·å¼ */
        h1 {
            margin-bottom: 40px;
            color: #333;
            font-weight: 300;
            text-align: center;
        }

        /* é€šç”¨å¡ç‰‡æ ·å¼ */
        .node {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
            transition: transform 0.2s;
            width: 100%;
        }

        .node:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .node-title {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 2px solid transparent;
            padding-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .node-content {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .sub-group {
            flex: 1;
            min-width: 200px;
            background: rgba(255,255,255,0.6);
            border-radius: 6px;
            padding: 10px;
        }

        .sub-title {
            font-weight: bold;
            font-size: 0.95em;
            margin-bottom: 8px;
            text-align: center;
            opacity: 0.8;
            border-bottom: 1px dashed rgba(0,0,0,0.1);
            padding-bottom: 4px;
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        li {
            font-size: 0.9em;
            margin-bottom: 6px;
            position: relative;
            padding-left: 15px;
        }

        li::before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: inherit;
        }

        /* è¿çº¿ç³»ç»Ÿ */
        .connector-v {
            width: 2px;
            background-color: var(--line-color);
            height: 40px;
            margin: 0 auto;
        }

        .branch-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            gap: 40px;
            position: relative;
        }

        /* é¡¶éƒ¨æ¨ªå‘è¿æ¥çº¿ */
        .branch-container::before {
            content: '';
            position: absolute;
            top: -20px; /* å‘ä¸Šåç§»ä»¥è¿æ¥ä¸Šçº§ */
            left: 25%;
            right: 25%;
            height: 2px;
            background-color: var(--line-color);
            z-index: -1;
        }
        
        .branch-container::after {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            width: 2px;
            height: 20px;
            background-color: var(--line-color);
        }

        /* è¿æ¥åˆ°ä¸‹ä¸€çº§çš„çº¿æ¡ */
        .branch-connector {
            position: absolute;
            top: -20px;
            left: 50%;
            height: 20px;
            width: 2px;
            background-color: var(--line-color);
        }

        /* åº•éƒ¨æ±‡èšçº¿æ¡ */
        .merge-container {
            position: relative;
            width: 100%;
            height: 40px;
        }
        
        .merge-container::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 25%;
            right: 25%;
            height: 2px;
            background-color: var(--line-color);
        }

        .merge-line-left, .merge-line-right {
            position: absolute;
            top: 0;
            height: 20px;
            width: 2px;
            background-color: var(--line-color);
        }
        .merge-line-left { left: 25%; }
        .merge-line-right { right: 75%; left: auto; } /* ä¿®æ­£å³ä¾§å®šä½ */
        
        /* ä¿®æ­£ï¼šå³ä¾§çº¿æ¡åº”è¯¥æ˜¯ left: 75% æˆ–è€… right: 25% */
        .merge-line-right-fix {
            position: absolute;
            top: 0;
            right: 25%;
            height: 20px;
            width: 2px;
            background-color: var(--line-color);
        }

        .merge-line-center {
            position: absolute;
            top: 20px;
            left: 50%;
            height: 20px;
            width: 2px;
            background-color: var(--line-color);
        }


        /* ===== ç‰¹å®šé¢œè‰²ä¸»é¢˜ ===== */

        /* 1. è“è‰²ï¼šSocketå®šä¹‰ */
        .theme-blue {
            background-color: var(--blue-bg);
            border: 2px solid var(--blue-border);
            color: var(--blue-text);
        }
        .theme-blue .node-title { border-color: var(--blue-border); }
        .theme-blue li::before { color: var(--blue-border); }

        /* 2. ç»¿è‰²ï¼šTCP */
        .theme-green {
            background-color: var(--green-bg);
            border: 2px solid var(--green-border);
            color: var(--green-text);
        }
        .theme-green .node-title { border-color: var(--green-border); }
        .theme-green li::before { color: var(--green-border); }

        /* 3. æ©™è‰²ï¼šUDP */
        .theme-orange {
            background-color: var(--orange-bg);
            border: 2px solid var(--orange-border);
            color: var(--orange-text);
        }
        .theme-orange .node-title { border-color: var(--orange-border); }
        .theme-orange li::before { color: var(--orange-border); }

        /* 4. ç´«è‰²ï¼šC/Sæ¨¡å¼ */
        .theme-purple {
            background-color: var(--purple-bg);
            border: 2px solid var(--purple-border);
            color: var(--purple-text);
        }
        .theme-purple .node-title { border-color: var(--purple-border); }
        
        /* æµç¨‹å›¾æ ·å¼ */
        .process-flow {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }
        
        .step {
            background: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid var(--purple-border);
            font-size: 0.9em;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .arrow {
            color: var(--purple-border);
            font-weight: bold;
            font-size: 1.2em;
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .branch-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .branch-container::before, .branch-container::after, .merge-container {
                display: none; /* ç§»åŠ¨ç«¯éšè—å¤æ‚è¿çº¿ */
            }

            .branch-connector {
                display: none;
            }

            .connector-v {
                height: 20px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Socket ç½‘ç»œç¼–ç¨‹çŸ¥è¯†å›¾è°±</h1>

    <!-- 1. æ ¹èŠ‚ç‚¹ï¼šSocket å®šä¹‰ -->
    <div class="node theme-blue" style="max-width: 960px;">
        <div class="node-title">ğŸ”µ Socketï¼šç½‘ç»œé€šä¿¡åŸºçŸ³</div>
        <div class="node-content">
            <div class="sub-group">
                <div class="sub-title">å®šä¹‰</div>
                <ul>
                    <li><strong>å”¯ä¸€æ ‡è¯†é€šä¿¡ç«¯ç‚¹ï¼š</strong></li>
                    <li>IPåœ°å€ + ç«¯å£å·</li>
                </ul>
            </div>
            <div class="sub-group">
                <div class="sub-title">åº”ç”¨å±‚ä¸ä¼ è¾“å±‚çš„æ¡¥æ¢</div>
                <ul>
                    <li>æ•°æ®å°è£…/è§£å°è£…</li>
                </ul>
            </div>
            <div class="sub-group">
                <div class="sub-title">æ ¸å¿ƒç±»å‹</div>
                <ul>
                    <li><strong>TCP Socket</strong> (å¯é æµ)</li>
                    <li><strong>UDP Socket</strong> (æ•°æ®æŠ¥)</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- è¿æ¥çº¿ -->
    <div class="connector-v"></div>

    <!-- 2. åˆ†æ”¯å±‚ï¼šTCP ä¸ UDP -->
    <div class="branch-container">
        
        <!-- TCP æ¨¡å— -->
        <div class="node theme-green" style="flex: 1;">
            <div class="branch-connector"></div> <!-- è¿æ¥ä¸Šçº¿ -->
            <div class="node-title">ğŸŸ¢ TCPï¼šå¯é è¿æ¥åè®®</div>
            <div class="node-content" style="display: block;">
                
                <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                    <div class="sub-group">
                        <div class="sub-title">å»ºç«‹è¿æ¥</div>
                        <ul>
                            <li><strong>ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong></li>
                            <li>SYN &rarr; SYN-ACK &rarr; ACK</li>
                        </ul>
                    </div>
                    <div class="sub-group">
                        <div class="sub-title">å¯é ä¿éšœ</div>
                        <ul>
                            <li>åºåˆ—å· (Sequence)</li>
                            <li>ç¡®è®¤é‡ä¼  (ACK)</li>
                            <li>æ»‘åŠ¨çª—å£ (Flow Control)</li>
                        </ul>
                    </div>
                </div>

                <div style="display: flex; gap: 15px;">
                    <div class="sub-group">
                        <div class="sub-title">ç‰¹æ€§</div>
                        <ul>
                            <li>é¢å‘å­—èŠ‚æµ (éœ€å¤„ç†ç²˜åŒ…)</li>
                            <li>å…¨åŒå·¥é€šä¿¡</li>
                        </ul>
                    </div>
                    <div class="sub-group">
                        <div class="sub-title">åº”ç”¨åœºæ™¯</div>
                        <ul>
                            <li>ç½‘é¡µæµè§ˆ (HTTP/HTTPS)</li>
                            <li>æ–‡ä»¶ä¼ è¾“ (FTP)</li>
                            <li>é‚®ä»¶å‘é€ (SMTP)</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

        <!-- UDP æ¨¡å— -->
        <div class="node theme-orange" style="flex: 1;">
            <div class="branch-connector"></div> <!-- è¿æ¥ä¸Šçº¿ -->
            <div class="node-title">ğŸŸ  UDPï¼šæ— è¿æ¥åè®®</div>
            <div class="node-content" style="display: block;">
                
                <div class="sub-group" style="margin-bottom: 15px;">
                    <div class="sub-title">æ ¸å¿ƒæœºåˆ¶</div>
                    <ul>
                        <li>æ— éœ€æ¡æ‰‹ï¼Œç›´æ¥å‘é€</li>
                        <li>å¼€é”€å°ï¼Œé€Ÿåº¦å¿«</li>
                    </ul>
                </div>

                <div style="display: flex; gap: 15px;">
                    <div class="sub-group">
                        <div class="sub-title">ç‰¹æ€§</div>
                        <ul>
                            <li>æ— çŠ¶æ€è¿æ¥</li>
                            <li>é¢å‘æ•°æ®æŠ¥ (æŠ¥æ–‡å®Œæ•´)</li>
                            <li>æ”¯æŒå¹¿æ’­/å¤šæ’­</li>
                        </ul>
                    </div>
                    <div class="sub-group">
                        <div class="sub-title">åº”ç”¨åœºæ™¯</div>
                        <ul>
                            <li>å®æ—¶è§†é¢‘æµ (RTP)</li>
                            <li>åœ¨çº¿æ¸¸æˆ</li>
                            <li>DNS æŸ¥è¯¢</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <!-- æ±‡èšçº¿ -->
    <div class="merge-container">
        <div class="merge-line-left"></div>
        <div class="merge-line-right-fix"></div>
        <div class="merge-line-center"></div>
    </div>

    <!-- 3. åº”ç”¨å±‚ï¼šC/S æ¨¡å¼ -->
    <div class="node theme-purple" style="max-width: 1000px;">
        <div class="node-title">ğŸŸ£ å®¢æˆ·ç«¯ / æœåŠ¡å™¨æ¨¡å¼ (C/S Model)</div>
        
        <!-- æœåŠ¡ç«¯æµç¨‹ -->
        <div style="margin-bottom: 20px;">
            <div class="sub-title" style="text-align: left; margin-left: 20px;">ğŸ–¥ï¸ æœåŠ¡ç«¯æµç¨‹ (Server)</div>
            <div class="process-flow">
                <div class="step">1. åˆ›å»º Socket</div>
                <div class="arrow">&rarr;</div>
                <div class="step">2. ç»‘å®šç«¯å£ (bind)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">3. ç›‘å¬ (listen)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">4. æ¥å—è¿æ¥ (accept)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">5. æ•°æ®äº¤æ¢ (send/recv)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">6. å…³é—­è¿æ¥ (close)</div>
            </div>
        </div>

        <!-- å®¢æˆ·ç«¯æµç¨‹ -->
        <div>
            <div class="sub-title" style="text-align: left; margin-left: 20px;">ğŸ“± å®¢æˆ·ç«¯æµç¨‹ (Client)</div>
            <div class="process-flow">
                <div class="step">1. åˆ›å»º Socket</div>
                <div class="arrow">&rarr;</div>
                <div class="step">2. è¿æ¥æœåŠ¡å™¨ (connect)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">3. å‘é€è¯·æ±‚ (send)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">4. æ¥æ”¶å“åº” (recv)</div>
                <div class="arrow">&rarr;</div>
                <div class="step">5. å…³é—­è¿æ¥ (close)</div>
            </div>
        </div>

    </div>

</div>

</body>
</html>