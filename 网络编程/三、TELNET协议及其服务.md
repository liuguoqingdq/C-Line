# 一、TELNET 是什么

**一句话定义：**

> **TELNET 是一种基于 TCP 的远程登录协议，用于在网络上提供字符终端方式的远程交互服务。**

- 协议名：**TELNET**
    
- RFC：**RFC 854**
    
- 传输层协议：**TCP**
    
- 默认端口：**23**
    

TELNET 的核心目标是：

> **让用户像坐在远程主机的“本地终端”前一样操作那台机器。**

---

# 二、TELNET 提供的服务（干什么用）

TELNET 本质上提供的是 **远程终端服务（Remote Terminal Service）**。

### 主要服务功能

1️⃣ **远程登录**

- 用户在本地输入用户名/密码
    
- 登录到远程主机的命令行环境
    

2️⃣ **远程命令执行**

- 所有输入的字符发送给远端
    
- 远端执行并返回输出结果
    

3️⃣ **字符终端仿真**

- 模拟“哑终端”（如 VT100）
    
- 面向字符流，而非图形界面
    

4️⃣ **设备与服务调试（历史用途）**

- 测试服务器端口是否可达
    
- 手工构造协议请求（如 SMTP、HTTP）
    

---

# 三、TELNET 的工作模型（C/S 架构）

```lua
+-------------+        TCP 23        +-------------+
| Telnet Client|  <----------------> | Telnet Server|
+-------------+                      +-------------+
```

- **客户端**：telnet 命令 / telnet 程序
    
- **服务器**：telnetd（守护进程）
    
- **通信方式**：全双工字符流
    

---

# 四、TELNET 的通信过程（详细步骤）

### 1️⃣ 建立 TCP 连接

- 客户端向服务器 **TCP 23 端口** 发起连接
    
- 完成三次握手
    

---

### 2️⃣ 选项协商（TELNET 最大特色）

TELNET 在正式传输数据前，会进行 **Option Negotiation（选项协商）**。

#### 常见控制命令（IAC 开头）

TELNET 使用 **IAC（Interpret As Command，0xFF）** 作为控制前缀。

|命令|含义|
|---|---|
|IAC DO|请求对方启用某选项|
|IAC DON'T|请求对方禁用某选项|
|IAC WILL|表示愿意启用某选项|
|IAC WON'T|表示拒绝启用某选项|

📌 常见协商选项：

- 回显（Echo）
    
- 终端类型（VT100）
    
- 行模式 / 字符模式
    

---

### 3️⃣ 身份认证

- 用户输入用户名
    
- 输入密码（**明文**）
    
- 服务器校验后允许登录
    

---

### 4️⃣ 远程交互

- 用户每输入一个字符：
    
    - 立即通过 TCP 发送
        
- 服务器执行并回显结果
    
- 整个过程是**字符流交互**
    

---

# 五、TELNET 协议的数据特点

### 1️⃣ 面向字符（Character-Oriented）

- 不区分“命令/数据”
    
- 一切都是字节流
    

### 2️⃣ 无加密（致命缺陷）

- 用户名、密码、命令、输出
    
- **全部明文传输**
    

📌 抓包即可看到密码：

`login: root password: 123456`

---

# 六、TELNET 的安全问题（为什么被淘汰）

### 核心问题一句话：

> **TELNET 没有任何加密和身份保护机制。**

### 具体风险

1️⃣ **明文密码泄露**

- 任意中间节点抓包即可窃取
    

2️⃣ **会话劫持**

- 攻击者可插入/篡改数据
    

3️⃣ **中间人攻击**

- 无法验证服务器身份
    

---

# 七、TELNET vs SSH（重点对比）

|项目|TELNET|SSH|
|---|---|---|
|端口|23|22|
|加密|❌ 明文|✅ 全程加密|
|身份认证|简单|强（密钥/证书）|
|安全性|❌ 极低|✅ 很高|
|现代使用|几乎淘汰|主流|

📌 **结论：TELNET 已被 SSH 全面取代**

---

# 八、TELNET 现在还用在哪里？

虽然不安全，但仍有**少量用途**：

1️⃣ **教学 / 网络原理演示**  
2️⃣ **调试简单文本协议**

`telnet smtp.example.com 25`

3️⃣ **老旧设备**

- 早期路由器 / 交换机
    
- 工控设备（高风险）
    

---

# 九、TELNET 的协议分层位置

`应用层：TELNET 传输层：TCP 网络层：IP 链路层：Ethernet`

---

# 十、考试 / 面试一句话总结

> **TELNET 是一种基于 TCP 的远程终端协议，提供字符方式的远程登录与交互服务，但由于明文传输和缺乏安全机制，已被 SSH 取代。**